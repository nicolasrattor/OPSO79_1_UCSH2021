<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>OPSO79-1-UCSH2021</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/kePrint/kePrint.js"></script>
    <link href="libs/lightable/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# OPSO79-1-UCSH2021
## Ciencia abierta y profundizaci√≥n en RMarkdown.
### <code>12 de noviembre 2021</code>

---











class: inverse, center, middle

# Ciencia abierta

`Introducci√≥n y desaf√≠os en sociolog√≠a`

---

# Introducci√≥n

*"La informaci√≥n es poder. Pero como con todo poder, hay quienes lo quieren mantener para s√≠ mismos. La herencia cient√≠fica y cultural del mundo completa, publicada durante siglos en libros y journals, est√° siendo digitalizada y apresada en forma creciente por un manojo de corporaciones privadas (...)"*.

--

*"(...) Es tiempo de salir a la luz y en la gran tradici√≥n de la desobediencia civil, declarar nuestra oposici√≥n a este robo privado de la cultura p√∫blica (...) Necesitamos tomar la informaci√≥n, donde sea que est√© guardada, hacer nuestras copias y compartirlas con el mundo"*

--

.right[&lt;a name=cite-Swartz2008&gt;&lt;/a&gt;([Swartz, 2008](#bib-Swartz2008))]

--

&lt;a href="https://www.youtube.com/watch?v=VBkD04z-8V8" target="_blank"&gt;&lt;img src="imagenes/aaswartz.jpg" width="15%" style="display: block; margin: auto 0 auto auto;" /&gt;&lt;/a&gt;


---

# Introducci√≥n

Ciencia abierta como acceso concepci√≥n m√°s cercana. 

--

Inspir√≥ a much@s. A una de ellas probablemente la han escuchado (y s√≠ no es as√≠ deber√≠an). 

--

.pull-left[La cient√≠fica Alexandra Elbakyan ha creado un [repositorio y p√°gina web (sci-hub)](https://sci-hub.se/) pirata de m√°s de 87 millones de art√≠culos acad√©micos y libros.

A la "fuerza" consigue un acceso abierto a las publicaciones cient√≠ficas.

Por esto se ha ganado varias demandas. En algunos pa√≠ses se encuentra bloqueada (e.g. Alemania)]

&lt;a href="https://es.wikipedia.org/wiki/Alexandra_Elbakyan" target="_blank"&gt;&lt;img src="imagenes/alexandra.jpg" width="30%" style="display: block; margin: auto 0 auto auto;" /&gt;&lt;/a&gt;


---

# Introducci√≥n

En paralelo a la opci√≥n "guerrillera", otras l√≠neas institucionales han avanzado. 

--

.pull-left[
&lt;a href="https://doaj.org/" target="_blank"&gt;&lt;img src="imagenes/doaj.jpg" width="80%" /&gt;&lt;/a&gt;
]

.pull-right[
&lt;a href="https://es.wikipedia.org/wiki/Creative_Commons#/media/Archivo:Creative_Commons_Semaforoa.svg" target="_blank"&gt;&lt;img src="imagenes/ccommons.png" width="80%" /&gt;&lt;/a&gt;
]

--

Pero la ciencia abierta no es solo el acceso libre a art√≠culos y libros.

--

Ciencia abierta es un concepto "paraguas", que cubre diferentes usos. 

--

Reflexiones pueden agruparse a lo menos en cinco "escuelas" &lt;a name=cite-Fecher2014&gt;&lt;/a&gt;([Fecher and Friesike, 2014](#bib-Fecher2014)) o cuatro "dimensiones" &lt;a name=cite-Breznau2021&gt;&lt;/a&gt;([Breznau, 2021](#bib-Breznau2021)).

---

# El paraguas

&lt;a href="https://accesoabierto.biblioteca.ulpgc.es/tag/open-science/" target="_blank"&gt;&lt;img src="https://accesoabierto.biblioteca.ulpgc.es/wp-content/uploads/2019/02/OpenScience.png" width="100%" style="display: block; margin: auto;" /&gt;&lt;/a&gt;


---

# Dimensiones ciencia abierta

--

### 1. Acceso abierto

Los resultados de la investigaci√≥n cient√≠fica deben ser accesibles a todos/as, removiendo las barreras de pago de las revistas. 

--

Es justo por el uso de fondos p√∫blicos.

--

Si al hacer ciencia nos paramos sobre hombres de gigantes, ¬øc√≥mo construir investigaci√≥n de calidad sin revisar lo producido por otros/as?

--

**Posibles salidas:** Publicar en revistas open access, liberar prepints, difundir y cooperar en expandir el repositorio sci-hub/lig-gen, sabotaje a grandes revistas, redireccionar el uso de fondos de las universidades, etc.  


---

# Dimensiones ciencia abierta

### 2. Productividad y calidad de las ciencias

--

Permanente obligaci√≥n por publicar puede sacrificar la calidad de la misma ciencia

--

Presi√≥n sobre acad√©micos por publicar (para mantener y subir posiciones).

--

Universidades mutan a instituciones productoras de *papers* que nadie lee.

Solo importa el **cuanto** y el **donde** se publica. 

--

El donde se publica no es garant√≠a de nada:

+ importa m√°s el poder simb√≥lico que el argumento

+ acceso a publicar relacionado a capital social que acad√©micos construyen

+ Activistas que publicaron premeditadamente ["basura"](https://www.youtube.com/watch?v=kVk9a5Jcd1k) en prestigiosas revistas.

---

# Dimensiones ciencia abierta

La presi√≥n por publicar:

--

+ incentiva el plagio

+ promueve la reiteraci√≥n de lo ya dicho

+ el *p-hacking* (iterar modelos hasta que da significativo)

+ invento de data y uso de trabajo ajeno (ayudantes)

+ Primac√≠a de los [matices no concluyentes](https://kieranhealy.org/publications/fuck-nuance/)

--

La ciencia puede aportar en otros aspectos, ¬øComo medir la calidad de la investigaci√≥n?

--

+ Relevancia p√∫blica de la tem√°tica investigada

--

+ Uso de formatos de publicaci√≥n alternativos (blogs, libros, documentales)

--

+ Vinculaci√≥n externa y con otros investigadores


---

# Dimensiones ciencia abierta

### 3. Transparencia del proceso investigativo

--

Se deben dar a conocer todos los m√©todos, c√≥digos, data y conflictos de inter√©s antes y despu√©s de que la investigaci√≥n sea realizada.

--

Siempre que el hacerlo no da√±e seres humanos ni viole leyes (*e.g. anonimato informantes*).

--

Permite la sinergia entre investigadores, previniendo la duplicaci√≥n de recolecciones y an√°lisis de datos. 

--

Permite discusi√≥n m√°s transparente y continuar o expandir proyectos de investigaci√≥n de terceros. 

--

La creaci√≥n de conocimiento puede ser m√°s eficiente si los cient√≠ficos trabajan en conjunto (Escuela pragm√°tica). Problemas complejos requieren esfuerzos combinados. 

--

**Posibles salidas:** Preregistro de investigaciones (*OSF*), publicaci√≥n de c√≥digos y data (*github y otros repositorios*), Investigaci√≥n Reproducible.


---

# Dimensiones ciencia abierta

### 4.  C√≥digo abierto (Open source)

--

Todos los programas, apps, algoritmos, herramientas y scripts deben ser transparentes y usables por otros. 

--

Cuando un cient√≠fico desarrolla una nueva tecnolog√≠a, cualquier tecnolog√≠a de otro puede interactuar con esta.

--

Cualquiera puede modificar la tecnolog√≠a para adoptarlas mejor a sus propias necesidades

--

**R y sus paquetes van en esta l√≠nea**. 


---

# Dimensiones ciencia abierta

### 5. Escuela P√∫blica (Open academia)

--

Todos/as pueden participar de la academia. Las desigualdades el mundo social deben ser eliminadas del mundo acad√©mico. 

--

Incluso, las cs. podr√≠an tener el objetivo de eliminar las desigualdades del mundo social (e.g. sociolog√≠a p√∫blica de &lt;a name=cite-Burawoy2005&gt;&lt;/a&gt;([Burawoy, 2005](#bib-Burawoy2005)):

--

+ Intervenir en discusiones p√∫blicas o elaboraci√≥n de pol√≠ticas

--

+ Apoyar la organizaci√≥n de movimientos sociales. 

--

Debiese importar el argumento y la evidencia, no el poder o posici√≥n de los actores. 

--

Desaf√≠o de la comunicaci√≥n de los resultados de la investigaci√≥n, ¬øbasta con liberar el *paper*?. 

--

L√≠neas innovadoras de involucrar a la ciudadan√≠a [(citzen science)](https://www.zooniverse.org/about).


---

# ¬øAbrir la sociolog√≠a?

--

Principal camino para evitar su fracaso como disciplina cient√≠fica ([Breznau, 2021](#bib-Breznau2021)).

--

Permite resolver la actual crisis de legitimidad en la que se encuentran las ciencias sociales, la **poca confianza** desde el p√∫blico y de quienes hacen las pol√≠ticas p√∫blicas

--

Las pretensiones de la ciencia abierta est√°n en las concepciones de ciencia de algunos de los principales referentes de la sociolog√≠a, como [Merton (1973)](https://sciencepolicy.colorado.edu/students/envs_5110/merton_sociology_science.pdf). 

--

+ **Universalismo:** pretensiones de verdad, cualquiera sea la fuente, deben ser evaluadas con criterios impersonales preestablecidos.

--

+ **Comunismo:** Los hallazgos sustantivos de la ciencia son producto de la colaboraci√≥n social. La propiedad intelectual debe limitarse al reconocimiento y estima. 

--

+ **Desinter√©s:** altruismo en la b√∫squeda de la verdad. Rechazo a la acumulaci√≥n de prestigio y a la subordinaci√≥n a grupos de inter√©s fuera del campo. 

--

+ **Escepticismo organizado:** escrutinio peri√≥dico de las creencias en t√©rminos l√≥gicos y emp√≠ricos (no distinci√≥n entre lo sagrado y lo profano)


---

# Desaf√≠os de la apertura

--

+ Acci√≥n directa de recuperaci√≥n de literatura es ilegal.

--

+ La apertura nunca puede ser total: dilemas √©ticos y pol√≠ticos, y restricciones legales.


--

+ Aparente limitaci√≥n a los enfoques cuantitativos de las ciencias sociales (*misconception*).

--

+ ¬øEs posible transparentar todo el proceso investigativo?, ¬øEl explicitar las decisiones no razonadas y las racionalidades pasadas a llevar no podr√≠a acrecentar el problema?

--

+ Ayuda a la calidad, legitimidad e impacto de la sociolog√≠a. 
  
--

#### El movimiento de la ciencia abierta

*"No debe ser un movimiento positivista. Es un movimiento para abrir la caja negra que rodea lo que hacen los soci√≥logos, sea lo que sea, para crear una comunidad de control de calidad y di√°logo."* ([Breznau, 2021](#bib-Breznau2021)).

---

# ¬øCiencia abierta en la sociolog√≠a chilena?

--

Dificultad de dar una √∫nica respuesta

--

Multidimensionalidad del concepto de cs. abierta

--

Desarticulaci√≥n de la triple vocaci√≥n de la sociolog√≠a &lt;a name=cite-Garreton2015&gt;&lt;/a&gt;([Garret√≥n, 2015](#bib-Garreton2015)).

--

+ la cient√≠fica (academia, docencia)

+ la cr√≠tica (militantes, opini√≥n p√∫blica, intelectuales org√°nicos)

+ la profesional (Estado, empresas, ONGs)

--

Hiperespecializaci√≥n en subcampos (educaci√≥n, trabajo, salud, gesti√≥n cultural, etc.)

--

Dualismo cuantitativo / cualitativo

---

# Cs. abierta en soc. chilena

#### 1. Acceso

Mayor parte de las revistas con acceso abierto. 

Investigadores e instituciones comparten art√≠culos y documentos en plataformas

Con libros hay mayores restricciones. V√≠a biblioteca universidades se accede. 

Resultados de instituciones p√∫blicas y privadas liberados. 

--

#### 2. Impacto / calidad

Academia neoliberal. Publica o perece. 

La centralidad est√° en indexaci√≥n de la revista. 

Acumulaci√≥n de producciones irrelevantes, poco concluyentes y repletas de matices. 

Fen√≥meno empuja a publicar en el Norte Global (acceso limitado).

---

# Cs. abierta en soc. chilena

#### 3. Apertura proceso investigaci√≥n

--

**Academia:** caja negra del proceso (solo apartado metodol√≥gico) y lejos de ser reproducible

--

Limitado acceso a datos, incluso con financiamiento p√∫blico

Excepci√≥n: &lt;https://dataverse.harvard.edu/dataverse/coes_data_repository&gt;

--

Excusa del anonimato para no liberar datos. 

--

Avance en transparencia desde el **Estado**. No a los procesos, pero s√≠ a los datos. 

Hoy en d√≠a el est√°ndar es publicar las bases de datos de encuestas. 

--

Consultoras/empresas no reguladas. Proceso y datos ocultos. Resultados resumidos p√∫blicos (ppt)



---

# Cs. abierta en soc. chilena

--

#### 4. Apertura al mundo social, ¬øinvestigar para quien?

Sociolog√≠a cr√≠tica-intelectual la con mayor impacto

--

Irrelevancia e incomprensibilidad de la producci√≥n acad√©mica para los sujetos estudiados

Sin duda hay excepciones, sobre todo en estudios de caso.

--

Actividades de extensi√≥n separadas del proceso investigativo. Parte de la carta gantt para cumplir.

--

Mayor inter√©s por producciones de organismos estatales y consultoras

+ Intenci√≥n de voto

+ Niveles de empleo


---

class: inverse, center, middle

# Investigaci√≥n reproducible

`Apertura de los procesos de investigaci√≥n social`

---

# Investigaci√≥n reproducible

--

Que otra persona (o mi yo del futuro) pueda ejecutar mi .pur[c√≥digo] con .pur[los mismos datos] llegando **al mismo resultado**.

--

&lt;a href="https://the-turing-way.netlify.app/reproducible-research/overview/overview-definitions.html" target="_blank"&gt;&lt;img src="imagenes/reproducible_turing_way.PNG" width="60%" style="display: block; margin: auto;" /&gt;&lt;/a&gt;

--

.center[
*‚ÄúAqu√≠ est√° todo lo que necesitas para reproducir mi trabajo‚Äù *

*‚ÄúLee el archivo README para las instrucciones‚Äù* 

&lt;a name=cite-Christensen2019&gt;&lt;/a&gt;([Christensen, Freese, and Miguel, 2019](#bib-Christensen2019)).
]

---

# Investigaci√≥n reproducible

![](https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/reproducibility_court.png)

---

# Investigaci√≥n reproducible

#### ¬øQue cosas pueden dificultar la reproducci√≥n del an√°lisis?

--

- No s√© si estoy usando los mismos datos (*problemas de acceso, diferentes versiones*)

--

- Rutas a archivos que son incorrectas

--

- Aleatoriedad no reproducible

--

- Comentarios escuetos en el c√≥digo (*no se entienden las decisiones*)

--

- Variables no localizadas (no estaban creadas en la rutina)

--

- Diferentes versiones del *software* o de los paquetes

---

# Investigaci√≥n reproducible

#### Posibles soluciones

--

.pull-left[

- No s√© si estoy usando los mismos datos

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**Script, Control de versiones**]]


- Rutas a archivos que son incorrectas

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**RProject, RMarkdown**]]


- Aleatoriedad no reproducible

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**Fijar semillas con set.seed()**]]

]


.pull-right[

- Comentarios escuetos en el c√≥digo

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**Orden y estilo de c√≥digo**]]


- Variables no localizadas

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**RMarkdown**]]


- Diferentes versiones del *software* o de los paquetes

&amp;nbsp;&amp;nbsp;&amp;nbsp; üëâ &amp;nbsp;&amp;nbsp;&amp;nbsp; .medium-par[.pur[**sessionInfo() y paquetes**]]

]

---

# ¬øPor qu√© reproducibilidad?

--

+ Para recordar como se hizo lo que se hizo (yo del futuro y supervisi√≥n)

--

+ Facilita la detecci√≥n de errores antes de publicar (si el c√≥digo no corre es porque hay problemas)

--

+ Permite el control de versiones (volver al pasado)

--

+ Facilita la continuaci√≥n del trabajo ante el recambio de personal

--

+ Permite la colaboraci√≥n y transparencia del proyecto

--

+ Credibilidad de lo realizado

--

+ Evita malos entendidos, confusiones frente a revisi√≥n o solicitudes innecesarias (cualquier duda consulta el c√≥digo)

--

+ C√≥digo puede reutilizarse o complejizarse para mejorar un procedimiento o una investigaci√≥n

--

Estos y m√°s argumentos en [video](https://www.youtube.com/watch?v=Hvrb2b7v93w) de D. Ballari.


---

# ¬øPor qu√© reproducibilidad?

Argumentos &lt;a name=cite-Rodriguez-Sanchez2016&gt;&lt;/a&gt;([Rodriguez-Sanchez, P√É¬©rez-Luque, Bartomeus, and Varela, 2016](#bib-Rodriguez-Sanchez2016)) para el mundo acad√©mico

--

&lt;img src="imagenes/benefits.png" width="100%" style="display: block; margin: auto;" /&gt;

---

class: inverse, center, middle

# RMarkdown

`Articulaci√≥n de c√≥digo y texto para la reproducibilidad`

---

# Breve repaso de RMarkdown 

&lt;img src="https://www.rstudio.com/wp-content/uploads/2017/05/rmarkdown.png" width="10%" style="display: block; margin: auto;" /&gt;


--

Articulaci√≥n de lenguaje R y texto plano. 

--

Los documentos creados con R Markdown son completamente reproducibles.

--

Sin importar el `.RProject` abierto. RMarkdown fija directorio de trabajo desde donde est√° el archivo `.rmd`

--

Si intentamos renderizar un documento y el proceso falla, no hay reproducci√≥n:

--

+ Se requieren objetos (data frames, e.g.) que no han sido creados todav√≠a

--

+ Se intenta importar data desde rutas que no existen

--

+ Problemas en la escritura de c√≥digo (confusi√≥n entre mayusc y minusc, guiones bajos)

--

+ Problemas en el orden del c√≥digo (instrucci√≥n X antes de Y, cuando X requiere de Y)

---

# Breve repaso de RMarkdown 

Si el c√≥digo se reproduce, tenemos un indicador de la calidad de una investigaci√≥n social (primer filtro).

--

Otras cuestiones sustantivas (buenas ideas, revisi√≥n exhaustiva de antecedentes, validez de las mediciones, justificaci√≥n de decisiones, gram√°tica, etc.)

--

Los archivos de `R Markdown` en general tienen 3 partes:

--

(1). Un encabezado que permite configurar inicialmente el documento que vamos a escribir (**yaml**)


![](https://smac-group.github.io/ds/images/rmd_yaml.png)

---

# Breve repaso de RMarkdown 

(2). "Pedazos de c√≥digo" (o en ingl√©s, ***chunk codes***, shortcut `ctrl+alt+i`).

--

&lt;img src="https://smac-group.github.io/ds/images/rmd_code_chunk.png" width="65%" style="display: block; margin: auto;" /&gt;

--

(3). Texto plano, donde escribimos como en cualquier otro procesador de texto.

---

# Rmd como editor de texto

RStudio lo podemos ocupar como simple editor de texto (libre).

A diferencia de word, no necesitamos licencia para escribir y somos due√±os de nuestros textos.

--

.inverse[¬øHan abierto un documento word desde bloc de notas?]

--

&lt;img src="imagenes/word_bloc.PNG" width="65%" style="display: block; margin: auto;" /&gt;

--

Toda una discusi√≥n al respecto en &lt;a name=cite-Castillo2021&gt;&lt;/a&gt;([Castillo, 2021](#bib-Castillo2021)). [Ver ac√°](https://juancarloscastillo.github.io/in-socabi/lenguaje-reproducible.html)

---

# Rmd como editor de texto

Para que nos sirva como editor de texto, a lo menos, son fundamentales dos cosas:

+ correcci√≥n de ortograf√≠a (spell check)

+ gesti√≥n bibliogr√°fica (taller Zotero)

--






---

# RMarkdown. Nuevas cosas. 

Los chunks tienen muchos argumentos que permiten moldear el output que deseamos.

--

Existe un chunk llamado por defecto "setup" (general para todos los chunks del documento).

--

```
{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


--

Podemos agregar opciones [(detalle ac√°)](https://rmarkdown.rstudio.com/lesson-3.html):

- include = FALSE/TRUE
- echo = FALSE/TRUE
- message = FALSE/TRUE
- warning = FALSE/TRUE
- error = FALSE/TRUE

--

O especificar opciones para cada chunk:

```
{r message=FALSE, warning=FALSE}
library(dplyr)
```

---

# RMarkdown. Nuevas cosas. 

Podemos crear t√≠tulos (#), √©nfasis con **negrita** o *cursiva*, listar de elementos, etc:

--

```

# titulo 1

# titulo 2

## titulo de segundo nivel

+ elemento listado 1

+ elemento listado 2

![](link.png)

[palabra](link.com)

```

--

Imagenes con mayor control:

```
{r echo=FALSE, fig.align='center', out.width = "65%"}
knitr::include_graphics("link.png")
```



---

# RMarkdown. Nuevas cosas. 

Para generar el documento se puede utilizar el comando `render` o bien utilizar el bot√≥n `Knit` (Tejer).

&lt;img src="https://d33wubrfki0l68.cloudfront.net/eb48bae40b24285c0c8f281e6d2a7500cf3b9fc8/a2e5f/knitr/images/knit-logo.png" width="20%" style="display: block; margin: auto;" /&gt;

--

O podemos ir ejecutando l√≠neas de c√≥digo en espec√≠fico, chunks particulares o `Run All`, lo que nos permite detectar errores cuando el c√≥digo no corre. 


---

# Exportar documento

![](https://lh6.googleusercontent.com/xlpPZilu2MS1EtyS9B6ykhmw4VhAHGaf_ryfg1Ek0_ZqVowztxK8HdMDDvskAM0Rc0vaATajSuLnyQWmtVTaQlw82SvsUQZn8sNAwd03n8O_kr05JUrysSqAY_-tSo-xdrysRFt9BU4)


--

.pull-left[

```
---
title: "T√≠tulo"
author: "Autor"
output: 
  html_document:
---
```
]

.pull-right[

```
---
title: "T√≠tulo"
author: "Autor"
output: 
 pdf_document:
---
```
]

---

# Documentos en formato html

Descargar [formato html](https://github.com/nicolasrattor/formatos/raw/main/Formato%20html/documento.Rmd) estilizado.


---

# Documentos en formato pdf

#### Formato tareas UCSH

<a href="data:text/x-markdown;base64,LS0tDQp0aXRsZTogfA0KIHwgXHZzcGFjZXs1Y219IFTDrXR1bG8gDQpzdWJ0aXRsZTogfA0KIFN1YnTDrXR1bG8NCmF1dGhvcjogfCANCiB8IA0KIHwgXHZzcGFjZXs4Y219IEF1dG9yDQpkYXRlOiAiYHIgU3lzLkRhdGUoKWAiDQpoZWFkZXItaW5jbHVkZXM6DQotIFx1c2VwYWNrYWdle3RpdGxpbmd9DQotIFxwcmV0aXRsZXtcYmVnaW57Y2VudGVyfVxMQVJHRVxpbmNsdWRlZ3JhcGhpY3Nbd2lkdGg9NmNtXXtpbWFnZW5lcy91Y3NoMS5wbmd9XFxbXGJpZ3NraXBhbW91bnRdfQ0KLSBccG9zdHRpdGxle1xlbmR7Y2VudGVyfX0NCg0Kb3V0cHV0Og0KICBwZGZfZG9jdW1lbnQ6IA0KICAgIGhpZ2hsaWdodDogdGFuZ28NCiAgICBudW1iZXJfc2VjdGlvbnM6IFRSVUUNCiAgICBwYW5kb2NfYXJnczogIWV4cHIgcm1kZmlsdHI6OmFkZF93b3JkY291bnRfZmlsdGVyKCkNCiAgaHRtbF9kb2N1bWVudDoNCiAgICBoaWdobGlnaHQ6IHRhbmdvDQpiaWJsaW9ncmFwaHk6IGJpYi9iaWIuYmliDQpsaW5rY29sb3I6IGJsdWUNCnVybGNvbG9yOiBibHVlDQpsaW5rLWNpdGF0aW9uczogeWVzDQpjc2w6IGJpYi9hcGEuY3NsDQpmb250c2l6ZTogMTRwdA0KLS0tDQoNCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQ0KDQprbml0cjo6b3B0c19jaHVuayRzZXQod2FybmluZyA9IEZBTFNFLA0KICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBGQUxTRSwNCiAgICAgICAgICAgICAgICAgICAgICBlY2hvID0gRkFMU0UpIA0KDQpTeXMuc2V0bG9jYWxlKCJMQ19BTEwiLCJFU19FUy5VVEYtOCIpICMgcGFyYSB0ZW1hcyBkZSBjYXJhY3RlcmVzIGVuIGVzcGHDsW9sLCByZWNvbWVuZGFibGUNCg0KYGBgDQoNClx0aGlzcGFnZXN0eWxle2VtcHR5fSANCg0KDQpcbmV3cGFnZQ0KDQojIEludHJvZHVjY2nDs24NCg0KRWwgY3Vyc28gYnVzY2EgZW50cmVnYXIgdW5hIGNvbXByZW5zacOzbiBnZW5lcmFsIGRlbCBwcm9jZXNvIGRlIGludmVzdGlnYWNpw7NuIHNvY2lhbCBjdWFudGl0YXRpdmEgeSBoZXJyYW1pZW50YXMgcXVlIHBlcm1pdGFuIGVsYWJvcmFyIHkgZWplY3V0YXIgZGlzZcOxb3MgZGUgaW52ZXN0aWdhY2nDs24gdXRpbGl6YW5kbyBlbCBsZW5ndWFqZSBSIHkgb3RyYXMgaGVycmFtaWVudGFzIHF1ZSBmb21lbnRhbiBlbCBkZXNhcnJvbGxvIGRlIGxhIGNpZW5jaWEgYWJpZXJ0YS4NCg0KQ29uc3VsdGFyIMO6bHRpbWEgdmVyc2nDs24gZGUgcHJvZ3JhbWEgZW4gd2ViIGRlbCBjdXJzbzogPGh0dHBzOi8vb3Bzbzc5MXVjc2gyMDIxLm5ldGxpZnkuYXBwL3Byb2dyYW1hPi4NCg0KIyBEZXNhcnJvbGxvDQoNCltAQXN1bjIwMDY7IEBGYXJkZWxsYS1DaXN0ZXJuYXMyMDIwXQ0KDQoNCiMjIFByaW1lciBhcGFydGFkbw0KDQpbQEJ1cmF3b3kyMDA1OyBARWxzdGVyMjAxMF0NCg0KIyMgU2VndW5kbyBhcGFydGFkbw0KDQoNCiMgQ29uY2x1c2lvbmVzDQoNCg0KXG5ld3BhZ2UNCg0KIyBCaWJsaW9ncmFmw61hDQoNCg==" download="formato_ucsh.Rmd">Descargar formato pdf</a>

Para utilizarlo se requiere instalar alg√∫n distribuidor de latex: `install.packages('tinytex')` [(m√°s informaci√≥n ac√°)](https://bookdown.org/yihui/rmarkdown/installation.html)


--

#### Formatos de tesis

Plantilla para hacer tesis: [Universidad de Chile](https://github.com/juancarloscastillo/tesisfacsodown)

--

#### Incluso hay formatos para hacer Curr√≠culums

Ac√° dos paquetes con varias plantillas o templates (hay muchos m√°s):


```r
install.packages("stevetemplates")
install.packages("vitae")
```


---

# Documentos formato word

Descargar [formato word](https://github.com/nicolasrattor/formatos/blob/main/Formato%20word/Paper.Rmd). No utilizar en este curso. 

---

# Para recordar y no fallar

--

- La ruta del RProject abierto no es considerada. Se utiliza la ruta del archivo 
  `.rmd`

- Las librer√≠as que necesiten deben estar cargadas en el script de 
  Rmarkdown (**error habitual**).

- Tanto los microdatos como las variables a utilizar deben estar
  llamadas dentro el script de Rmarkdown.

- Knitr() incluye la impresi√≥n de los resultados, por lo que no 
  es necesario usar print().

- No usar View() en RMarkdown, porque en el output no mostrar√° nada.

- Cada chunk puede tener o no tener un nombre. Si los deciden nombrar, 
  los nombres NO DEBEN REPETIRSE (otra fuente de error)
  



---

# C√≥digo en l√≠nea

Existe el c√≥digo R "en l√≠nea" (*in line*), lo que nos permite hacer reportes autom√°ticos:

--

El d√≠a de hoy es 2021-11-10 y el valor de 5 por 2 es 50

--


```r
El d√≠a de hoy es `r Sys.Date()` y el valor de 5 por 2 es `r 5*10`
```



---

# Dar formato a las tablas

Funci√≥n `kable()` y paquete `kableExtra()`.

--


```r
Orange %&gt;% head(4)
```

```
##   Tree  age circumference
## 1    1  118            30
## 2    1  484            58
## 3    1  664            87
## 4    1 1004           115
```
--


```r
library(knitr)
Orange %&gt;% head(3) %&gt;% kable()
```



|Tree | age| circumference|
|:----|---:|-------------:|
|1    | 118|            30|
|1    | 484|            58|
|1    | 664|            87|


---

# Dar formato a las tablas


```r
library(kableExtra)
Orange %&gt;% head(3) %&gt;% 
  kable(caption = "T√≠tulo de tabla") %&gt;%
 kable_styling(bootstrap_options=c("striped", "hover", "condensed", "responsive"))
```

&lt;table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;T√≠tulo de tabla&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Tree &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; age &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; circumference &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 118 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 484 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 58 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 664 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 87 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

--

Para m√°s informaci√≥n sobre distintos estilos revisar [Create Awesome HTML Table with knitr::kable and kableExtra](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html)


---

# Herramientas de gesti√≥n bibliogr√°fica y R

[Presentaci√≥n opcional, si alcanzamos en el bloque de clases](https://opso791ucsh2021.netlify.app/clases/clase10/clase10c_zotero_bibtex) 

**Contenidos:**

+ Buscar bibliograf√≠a

+ Acceder a bibliograf√≠as (romper barreras de pago)

+ Gestionar eficientemente las bibliograf√≠as (Zotero)

+ Bibtex

+ Citar bibliograf√≠as desde RMarkdown



---

# Material de texto y audiovisual de inter√©s

Curso ["Ciencia Social Abierta"](https://cienciasocialabierta.netlify.app/) de Juan Carlos Castillo (en espa√±ol). 

[¬øPor qu√© es importante la reproducibilidad computacional?](https://www.youtube.com/watch?v=Hvrb2b7v93w) De Daniela Ballari. En espa√±ol

[Como escribir manuscritos reproducibles.](https://www.youtube.com/watch?v=TKhV3w467RI&amp;t=202s) De Francisco Rodr√≠guez-S√°nchez. En espa√±ol

Documental [Paradojas del nihilismo, La academia.](https://www.youtube.com/watch?v=_3cYAsJClEg) 



---

# Bibliograf√≠a y elementos consultados

&lt;a name=bib-Breznau2021&gt;&lt;/a&gt;[Breznau, N.](#cite-Breznau2021) (2021).
"Does Sociology Need Open Science?" In: _Societies_ 11.1, p. 9.

&lt;a name=bib-Burawoy2005&gt;&lt;/a&gt;[Burawoy, M.](#cite-Burawoy2005) (2005).
"Por Una Sociologia Publica". In: _Politica y sociedad_ 42.1, pp.
197-225.

&lt;a name=bib-Castillo2021&gt;&lt;/a&gt;[Castillo, J. C.](#cite-Castillo2021)
(2021). "Capitulo 1 Lenguaje Reproducible". In: _Investigaci√≥n Social
Abierta_.

&lt;a name=bib-Christensen2019&gt;&lt;/a&gt;[Christensen, G., J. Freese, and E.
Miguel](#cite-Christensen2019) (2019). _Transparent and Reproducible
Social Science Research: How to Do Open Science_. University of
California Press.

&lt;a name=bib-Fecher2014&gt;&lt;/a&gt;[Fecher, B. and S.
Friesike](#cite-Fecher2014) (2014). "Open Science: One Term, Five
Schools of Thought". In: _Opening science_, pp. 17-47.

&lt;a name=bib-Garreton2015&gt;&lt;/a&gt;[Garret√≥n, M. A.](#cite-Garreton2015)
(2015). "La Recomposici√≥n de La Triple Vocaci√≥n de La Ciencia Social En
Am√©rica Latina". In: _Polis. Revista Latinoamericana_.

&lt;a name=bib-Rodriguez-Sanchez2016&gt;&lt;/a&gt;[Rodriguez-Sanchez, F., A. J.
P√É¬©rez-Luque, I. Bartomeus, et al.](#cite-Rodriguez-Sanchez2016)
(2016). "Ciencia Reproducible: Qu√©, Por Qu√©, C√≥mo". In: _Ecosistemas_
25.2, pp. 83-92.

&lt;a name=bib-Swartz2008&gt;&lt;/a&gt;[Swartz, A.](#cite-Swartz2008) (2008).
"Guerilla Open Access Manifesto". In: _Aaron Swartz [Internet]_.

[Xaringan: Presentation Ninja, de Yihui Xie](https://github.com/yihui/xaringan). Para generar esta presentaci√≥n.

--
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
